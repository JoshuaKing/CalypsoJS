<html>
	<head>
		<script src="../code/summariser.js"></script>
	</head>
	<body>
		<h1>Paragraph to summarise</h1>
		
		<!-- Long paragraph to summarise, from: http://www.newscientist.com/article/dn23709-echolocating-app-will-let-you-map-a-room-with-sound.html -->
		<div id="paragraph">
        "Quotation slightly edited from <a href="http://www.newscientist.com/article/dn23709-echolocating-app-will-let-you-map-a-room-with-sound.html">http://www.newscientist.com/article/dn23709-echolocating-app-will-let-you-map-a-room-with-sound.html</a>." Bats, dolphins, and even some blind people use echoes to create a mental 3D map of their environment and where they are in it. A smartphone's chirp could soon let us do the same.

        I. A. Dokmanic and colleagues at the Swiss Federal Institute of Technology (EPFL) in Lausanne have developed a system capable of reconstructing the shape of a room - and where you are in it - using echoes.

        What's key to the trick, say human echolocators, is sensing the strong early reflections off the walls, rather than the noisy, confusing mishmash of late-arriving, weaker echoes.

        Hoping to computerise this process of 3D visualisation, the EPFL team has developed a system capable of reconstructing the shape of a room using these "first order" echoes. To do this, the researchers wrote an echo-sorting algorithm which can discriminate between the first and later echoes.

        To test their plan they set up a loudspeaker and five microphones in Lausanne cathedral. The speaker briefly emitted an audible chirp - sweeping from 200 hertz to 10 kilohertz - and the reflections were analysed to successfully reveal the cathedral's 3D shape and the location of the sound source (PNAS, DOI: 10.1073/pnas.1221464110).

        Now the team wants to build an app that works using inaudible ultrasound to map interiors and tell people where they are in them. This would need multiple phones cooperating over Bluetooth or Wi-Fi in the building.

        "At least four microphones are needed to ensure we robustly capture first order echoes and reject noise," says Dokmanic. "This could be run by a store owner like Wal-Mart, allowing people to download the app when they come in."

        Dokmanic, currently on secondment to Microsoft Research in Redmond, Washington, says the indoor localisation app should be ready in a year's time.

        Another tack the team may take is simply measuring echoes from people's voices as they walk around a building talking on their cellphones. But that will face problems, says University of Salford acoustician Trevor Cox - who once modelled Stonehenge acoustically.

        "To make an app which can listen to mobile phone speech and help you echolocate presents a huge number of challenges. In a crowded mall fellow shoppers would scatter and absorb echoes, while the chatty hubbub would mask the sound of the reflections."
        </div>
		
		<h1>Summary</h1>
		<div id="summary"></div>

        <h1>Summary Stats</h1>
		<div id="summary-stats"></div>
		
		<h1>Debug Messages</h1>
		<div id="summary-debug"></div>
		
		<script>
			var summary = new Summariser();
			var text = document.getElementById("paragraph").innerHTML;
			
			summary.setString(text);
			summary.tokenize();
			var ss = summary.sentence_tokenize();
			this.outputStructure(ss, 0);
			summary.remove_brackets();
			numsentences = summary.s_split();
            touse = Math.ceil(0.3 * numsentences);
			summary.summarise(touse);
			
            document.getElementById("summary-stats").innerHTML = "Compression: " + touse + " of " + numsentences + " sentences (" + Math.floor((summary.response.length/text.length) * 100) + "% of characters)"; 
			document.getElementById("summary").innerHTML = summary.response;
		</script>
	</body>
</html>
